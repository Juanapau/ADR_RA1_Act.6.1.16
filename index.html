<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Ejercicio interactivo sobre confidencialidad de informaciÃ³n en reportes empresariales">
  <meta name="author" content="Ing. Juana Alt. Paulino">
  <title>Casos de Estudio - Confidencialidad</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 20px;
      line-height: 1.6;
      min-height: 100vh;
    }

    .container { max-width: 1200px; margin: 0 auto; }

    .header {
      background: white;
      border-radius: 15px;
      padding: 40px;
      text-align: center;
      margin-bottom: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    .header h1 { color: #1e3a8a; font-size: 2.5em; margin-bottom: 10px; }
    .header p { color: #64748b; font-size: 1.1em; }

    .instructions {
      background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
      border-left: 6px solid #f59e0b;
      border-radius: 10px;
      padding: 25px;
      margin-bottom: 30px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    .instructions h2 { color: #92400e; margin-bottom: 15px; font-size: 1.5em; }
    .instructions p { color: #78350f; margin-bottom: 15px; }
    .instructions ol { margin-left: 25px; color: #1e3a8a; }
    .instructions li { margin: 10px 0; font-weight: 600; }

    .student-info {
      background: white;
      border-radius: 15px;
      padding: 25px;
      margin-bottom: 30px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
    }

    .student-info h3 { color: #1e3a8a; margin-bottom: 15px; font-size: 1.3em; }
    .input-group { margin-bottom: 15px; }
    .input-group label { display: block; color: #475569; font-weight: 600; margin-bottom: 5px; }
    
    .input-group input {
      width: 100%;
      padding: 12px;
      border: 2px solid #cbd5e1;
      border-radius: 8px;
      font-size: 1em;
      transition: border-color 0.3s;
    }

    .input-group input:focus { outline: none; border-color: #3b82f6; }

    .tab-container {
      background: white;
      border-radius: 15px;
      padding: 20px;
      margin-bottom: 30px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
    }

    .tabs { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
    
    .tab-button {
      padding: 12px 24px;
      border: none;
      background: #e2e8f0;
      color: #475569;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
    }

    .tab-button:hover { background: #cbd5e1; }
    
    .tab-button.active {
      background: linear-gradient(135deg, #3b82f6 0%, #1e3a8a 100%);
      color: white;
    }

    .tab-content { display: none; }
    .tab-content.active { display: block; animation: fadeIn 0.5s; }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .scenario {
      background: white;
      border-radius: 15px;
      margin-bottom: 30px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    .scenario-header {
      background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
      color: white;
      padding: 25px;
    }

    .scenario-header.green {
      background: linear-gradient(135deg, #059669 0%, #10b981 100%);
    }

    .scenario-header.purple {
      background: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
    }

    .scenario-header.orange {
      background: linear-gradient(135deg, #ea580c 0%, #f97316 100%);
    }

    .scenario-header.red {
      background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%);
    }

    .scenario-header h2 { font-size: 1.5em; margin-bottom: 8px; }
    .scenario-header h3 { font-size: 1em; opacity: 0.9; font-weight: 400; }
    .scenario-content { padding: 30px; }

    .report-box {
      background: #f8fafc;
      border: 2px solid #cbd5e1;
      border-radius: 10px;
      padding: 25px;
      font-family: 'Courier New', monospace;
      font-size: 0.85em;
      white-space: pre-wrap;
      max-height: 400px;
      overflow-y: auto;
      margin-bottom: 20px;
    }

    .questions-box {
      background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
      border-left: 5px solid #3b82f6;
      border-radius: 10px;
      padding: 20px;
    }

    .questions-box h4 { color: #1e3a8a; margin-bottom: 15px; font-size: 1.3em; }

    .answer-input {
      width: 100%;
      min-height: 80px;
      padding: 12px;
      border: 2px solid #cbd5e1;
      border-radius: 8px;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      font-size: 0.95em;
      resize: vertical;
      margin-top: 8px;
      transition: border-color 0.3s;
    }

    .answer-input:focus {
      outline: none;
      border-color: #3b82f6;
      background-color: #f0f9ff;
    }

    .button-group {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-top: 20px;
    }

    .submit-button {
      background: linear-gradient(135deg, #3b82f6 0%, #1e3a8a 100%);
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 10px;
      font-size: 1em;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 5px 15px rgba(59, 130, 246, 0.4);
    }

    .submit-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(59, 130, 246, 0.5);
    }

    .teacher-button {
      background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 10px;
      font-size: 1em;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 5px 15px rgba(220, 38, 38, 0.4);
    }

    .teacher-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(220, 38, 38, 0.5);
    }

    .clear-button {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 10px;
      font-size: 1em;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 5px 15px rgba(245, 158, 11, 0.4);
    }

    .clear-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(245, 158, 11, 0.5);
    }

    .success-message {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      color: white;
      padding: 15px;
      border-radius: 10px;
      margin-top: 15px;
      text-align: center;
      font-weight: 600;
      display: none;
    }

    .download-section {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      border-radius: 15px;
      padding: 30px;
      text-align: center;
      margin-top: 30px;
    }

    .download-section h3 { color: white; font-size: 1.5em; margin-bottom: 15px; }

    .download-button {
      background: white;
      color: #059669;
      border: none;
      padding: 15px 40px;
      border-radius: 10px;
      font-size: 1em;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    .download-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }

    .teacher-section {
      background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
      border-radius: 15px;
      padding: 30px;
      margin-top: 30px;
    }

    .teacher-section h3 { color: white; font-size: 1.5em; margin-bottom: 10px; text-align: center; }
    .teacher-section p { color: rgba(255, 255, 255, 0.9); text-align: center; margin-bottom: 20px; }

    .teacher-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: center;
    }

    @media (max-width: 768px) {
      .header h1 { font-size: 1.8em; }
      .header { padding: 25px; }
      .tabs { flex-direction: column; }
      .tab-button { width: 100%; }
      .button-group { flex-direction: column; }
      .submit-button, .teacher-button, .clear-button, .download-button { width: 100%; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ğŸ“Š Casos de Estudio: Confidencialidad en Reportes</h1>
      <p>MÃ³dulo: AnÃ¡lisis y DiseÃ±o de Reportes | Prof. Ing. Juana Alt. Paulino</p>
    </div>

    <div class="instructions">
      <h2>ğŸ“‹ Instrucciones</h2>
      <p>Analiza los siguientes escenarios empresariales y responde las preguntas sobre confidencialidad de informaciÃ³n:</p>
      <ol>
        <li>Completa tu informaciÃ³n personal</li>
        <li>Selecciona un escenario de la pestaÃ±a correspondiente</li>
        <li>Lee cuidadosamente el reporte presentado</li>
        <li>Responde todas las preguntas sobre confidencialidad</li>
        <li>EnvÃ­a tus respuestas y descarga tu anÃ¡lisis en PDF</li>
      </ol>
    </div>

    <div class="student-info">
      <h3>ğŸ‘¤ InformaciÃ³n del Estudiante</h3>
      <div class="input-group">
        <label for="studentName">Nombre Completo:</label>
        <input type="text" id="studentName" placeholder="Ingresa tu nombre completo" required>
      </div>
      <div class="input-group">
        <label for="currentDate">Fecha:</label>
        <input type="date" id="currentDate" required>
      </div>
    </div>

    <div class="tab-container">
      <div class="tabs">
        <button class="tab-button active" onclick="showTab(1)">Escenario 1</button>
        <button class="tab-button" onclick="showTab(2)">Escenario 2</button>
        <button class="tab-button" onclick="showTab(3)">Escenario 3</button>
        <button class="tab-button" onclick="showTab(4)">Escenario 4</button>
        <button class="tab-button" onclick="showTab(5)">Escenario 5</button>
      </div>

      <div id="tab1" class="tab-content active">
        <div class="scenario">
          <div class="scenario-header">
            <h2>Escenario 1: Empresa Manufacturera</h2>
            <h3>Sector: Industrial - ProducciÃ³n y Costos</h3>
          </div>
          <div class="scenario-content">
            <div class="report-box">REPORTE DE PRODUCCIÃ“N Y COSTOS - CONFIDENCIAL
Empresa: TecnoIndustrias S.A.
PerÃ­odo: Octubre 2024
Generado: 05/11/2024

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

RESUMEN EJECUTIVO
- Volumen producciÃ³n: 45,000 unidades
- Costo unitario promedio: RD$425.50
- Margen de utilidad: 38.2%
- InversiÃ³n I+D: RD$2,500,000

ANÃLISIS DE COSTOS
Materia Prima:        RD$8,750,000
Mano de Obra:         RD$4,200,000
EnergÃ­a:              RD$1,800,000
Mantenimiento:        RD$950,000
                     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TOTAL:               RD$15,700,000

PRODUCTOS PRINCIPALES
1. Modelo Premium X500: 15,000 uds
   - Costo: RD$580/ud
   - Precio venta: RD$950/ud
   - Utilidad: 63.8%

2. Modelo EstÃ¡ndar E300: 30,000 uds
   - Costo: RD$350/ud
   - Precio venta: RD$520/ud
   - Utilidad: 48.6%

PROYECCIONES 2025
- ReducciÃ³n costos: 12%
- Nueva lÃ­nea producciÃ³n: RD$8M inversiÃ³n
- Mercado objetivo: RepÃºblica Dominicana y Caribe

INDICADORES CLAVE
â€¢ Eficiencia operativa: 94.5%
â€¢ Desperdicio material: 3.2%
â€¢ Tiempo inactividad: 2.1%
â€¢ Productividad laboral: +8% vs 2023

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ClasificaciÃ³n: CONFIDENCIAL
DistribuciÃ³n: Gerencia General, Finanzas, ProducciÃ³n
Este documento contiene informaciÃ³n estratÃ©gica empresarial</div>

            <div class="questions-box">
              <h4>ğŸ’­ Preguntas de AnÃ¡lisis</h4>
              <p><strong>1. Â¿QuÃ© informaciÃ³n en este reporte consideras confidencial y por quÃ©?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>2. Â¿QuiÃ©nes deberÃ­an tener acceso a este reporte dentro de la empresa?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>3. Â¿QuÃ© riesgos existen si esta informaciÃ³n se filtra a la competencia?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>4. Â¿QuÃ© medidas de protecciÃ³n implementarÃ­as para este reporte?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>5. Â¿QuÃ© consecuencias legales o Ã©ticas podrÃ­a tener el mal manejo de esta informaciÃ³n?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>
            </div>

            <div class="button-group">
              <button class="submit-button" onclick="submitAnswers(1)">ğŸ“¤ Enviar Respuestas</button>
              <button class="download-button" onclick="downloadStudentPDF()">ğŸ“„ Descargar mi PDF</button>
            </div>
            <div class="success-message"></div>
          </div>
        </div>
      </div>

      <div id="tab2" class="tab-content">
        <div class="scenario">
          <div class="scenario-header green">
            <h2>Escenario 2: InstituciÃ³n de Salud</h2>
            <h3>Sector: Salud - Datos MÃ©dicos y Pacientes</h3>
          </div>
          <div class="scenario-content">
            <div class="report-box">INFORME ESTADÃSTICO DE PACIENTES - CONFIDENCIAL
Hospital Regional del Cibao
Departamento: Urgencias
Mes: Octubre 2024

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ESTADÃSTICAS GENERALES
Total pacientes atendidos: 3,847
Promedio diario: 124 pacientes
Tiempo espera promedio: 45 minutos

CLASIFICACIÃ“N POR GRAVEDAD
â€¢ Emergencias crÃ­ticas: 287 (7.5%)
â€¢ Urgencias altas: 1,539 (40%)
â€¢ Urgencias medias: 1,346 (35%)
â€¢ Consultas menores: 675 (17.5%)

DIAGNÃ“STICOS MÃS FRECUENTES
1. Infecciones respiratorias: 892 casos
2. Traumatismos: 634 casos
3. Problemas cardiovasculares: 428 casos
4. Complicaciones diabÃ©ticas: 356 casos
5. Problemas gastrointestinales: 298 casos

DATOS DEMOGRÃFICOS
Edad promedio: 42 aÃ±os
DistribuciÃ³n por gÃ©nero:
- Femenino: 58%
- Masculino: 42%

Seguro mÃ©dico:
- Privado: 45%
- ARS/Senasa: 38%
- Sin seguro: 17%

INDICADORES DE CALIDAD
â€¢ SatisfacciÃ³n pacientes: 87%
â€¢ Reingresos 72h: 4.2%
â€¢ Mortalidad: 0.8%
â€¢ Infecciones nosocomiales: 1.1%

RECURSOS UTILIZADOS
MÃ©dicos de guardia: 18
Enfermeras: 42
Camas disponibles: 85 (ocupaciÃ³n 94%)
QuirÃ³fanos: 6 (utilizaciÃ³n 78%)

COSTOS OPERATIVOS
Salarios personal: RD$12,400,000
Medicamentos: RD$8,700,000
Equipamiento: RD$3,200,000
Servicios generales: RD$2,100,000

CASOS ESPECIALES (Ejemplos anÃ³nimos)
- Paciente femenino, 34 aÃ±os: Politraumatismo severo
  Tratamiento: CirugÃ­a urgente, estabilizaciÃ³n
  EvoluciÃ³n: Favorable, alta en 12 dÃ­as

- Paciente masculino, 58 aÃ±os: Infarto agudo
  Tratamiento: Cateterismo, UCI
  EvoluciÃ³n: Estable, recuperaciÃ³n en curso

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ClasificaciÃ³n: ESTRICTAMENTE CONFIDENCIAL
DistribuciÃ³n: DirecciÃ³n MÃ©dica, Jefatura Urgencias
Sujeto a Ley 172-13 de ProtecciÃ³n de Datos Personales</div>

            <div class="questions-box">
              <h4>ğŸ’­ Preguntas de AnÃ¡lisis</h4>
              <p><strong>1. Â¿QuÃ© informaciÃ³n en este reporte consideras confidencial y por quÃ©?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>2. Â¿QuiÃ©nes deberÃ­an tener acceso a este reporte dentro del hospital?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>3. Â¿QuÃ© riesgos existen si esta informaciÃ³n se hace pÃºblica?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>4. Â¿QuÃ© medidas de protecciÃ³n implementarÃ­as para este reporte?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>5. Â¿QuÃ© consecuencias legales o Ã©ticas podrÃ­a tener el mal manejo de esta informaciÃ³n?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>
            </div>

            <div class="button-group">
              <button class="submit-button" onclick="submitAnswers(2)">ğŸ“¤ Enviar Respuestas</button>
              <button class="download-button" onclick="downloadStudentPDF()">ğŸ“„ Descargar mi PDF</button>
            </div>
            <div class="success-message"></div>
          </div>
        </div>
      </div>

      <div id="tab3" class="tab-content">
        <div class="scenario">
          <div class="scenario-header purple">
            <h2>Escenario 3: InstituciÃ³n Bancaria</h2>
            <h3>Sector: Financiero - Transacciones y Clientes</h3>
          </div>
          <div class="scenario-content">
            <div class="report-box">REPORTE DE ANÃLISIS CREDITICIO - CONFIDENCIAL
Banco Nacional de Desarrollo
Departamento: CrÃ©ditos Empresariales
Fecha: 03/11/2024

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

RESUMEN EJECUTIVO
Solicitudes evaluadas: 156
Aprobadas: 89 (57%)
Rechazadas: 42 (27%)
En revisiÃ³n: 25 (16%)

Monto total aprobado: RD$287,500,000
Tasa promedio: 12.5% anual

ANÃLISIS POR SECTOR
Comercio: 34 prÃ©stamos - RD$95M
Industria: 28 prÃ©stamos - RD$105M
Servicios: 18 prÃ©stamos - RD$58M
Agropecuario: 9 prÃ©stamos - RD$29.5M

PERFIL DE RIESGO
CalificaciÃ³n A (Bajo): 48 clientes
CalificaciÃ³n B (Medio): 32 clientes
CalificaciÃ³n C (Alto): 9 clientes

CASOS DESTACADOS

SOLICITUD #2847-2024
Empresa: Distribuidora CaribeÃ±a SRL
RNC: 1-31-xxxxx-x
Monto solicitado: RD$18,500,000
PropÃ³sito: ExpansiÃ³n flota transporte
Plazo: 5 aÃ±os

EvaluaciÃ³n financiera:
â€¢ Ingresos anuales: RD$42M
â€¢ Patrimonio: RD$28M
â€¢ Ãndice endeudamiento: 35%
â€¢ Historial crediticio: Excelente
â€¢ GarantÃ­as: Inmueble RD$25M

DecisiÃ³n: APROBADO
Condiciones especiales:
- Tasa preferencial: 11.8%
- Periodo gracia: 6 meses
- RevisiÃ³n anual obligatoria

SOLICITUD #2891-2024
Empresa: Soluciones Tech RD
RNC: 1-30-xxxxx-x
Monto solicitado: RD$8,200,000
PropÃ³sito: InversiÃ³n tecnolÃ³gica

EvaluaciÃ³n financiera:
â€¢ Ingresos anuales: RD$12M
â€¢ Patrimonio: RD$6M
â€¢ Ãndice endeudamiento: 62%
â€¢ Atrasos previos: 2 registrados
â€¢ GarantÃ­as: Equipos RD$5M

DecisiÃ³n: RECHAZADO
Razones: Alto endeudamiento, garantÃ­as insuficientes

INDICADORES DE CARTERA
Cartera vigente: RD$1,847M
Cartera vencida: 3.8%
Provisiones: RD$82M
ROE: 18.2%

CLIENTES PRINCIPALES (Top 5)
1. Grupo Empresarial Norte: RD$45M
2. Importadora del Este: RD$32M
3. Constructora Nacional: RD$28M
4. Cadena SuperMax: RD$24M
5. Inversiones Valle: RD$19M

PROYECCIONES Q4 2024
Meta colocaciÃ³n: RD$125M
Tasa morosidad esperada: <4%
Nuevos productos: CrÃ©dito verde

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ClasificaciÃ³n: ESTRICTAMENTE CONFIDENCIAL
DistribuciÃ³n: ComitÃ© de CrÃ©dito, Gerencia Riesgos
Protegido por Ley de ProtecciÃ³n de Datos Personales
y Secreto Bancario (Ley Monetaria y Financiera)</div>

            <div class="questions-box">
              <h4>ğŸ’­ Preguntas de AnÃ¡lisis</h4>
              <p><strong>1. Â¿QuÃ© informaciÃ³n en este reporte consideras confidencial y por quÃ©?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>2. Â¿QuiÃ©nes deberÃ­an tener acceso a este reporte dentro del banco?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>3. Â¿QuÃ© riesgos existen si esta informaciÃ³n se filtra?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>4. Â¿QuÃ© medidas de protecciÃ³n implementarÃ­as para este reporte?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>5. Â¿QuÃ© consecuencias legales o Ã©ticas podrÃ­a tener el mal manejo de esta informaciÃ³n?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>
            </div>

            <div class="button-group">
              <button class="submit-button" onclick="submitAnswers(3)">ğŸ“¤ Enviar Respuestas</button>
              <button class="download-button" onclick="downloadStudentPDF()">ğŸ“„ Descargar mi PDF</button>
            </div>
            <div class="success-message"></div>
          </div>
        </div>
      </div>

      <div id="tab4" class="tab-content">
        <div class="scenario">
          <div class="scenario-header orange">
            <h2>Escenario 4: Recursos Humanos</h2>
            <h3>Sector: Corporativo - NÃ³mina y DesempeÃ±o</h3>
          </div>
          <div class="scenario-content">
            <div class="report-box">INFORME DE RECURSOS HUMANOS - CONFIDENCIAL
CorporaciÃ³n Global Services
Departamento: Recursos Humanos
PerÃ­odo: Q3 2024

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

RESUMEN DE PERSONAL
Empleados activos: 847
Nuevas contrataciones: 64
Separaciones: 31
RotaciÃ³n trimestral: 3.7%

DISTRIBUCIÃ“N POR ÃREA
Operaciones: 456 empleados
TecnologÃ­a: 178 empleados
Ventas: 112 empleados
AdministraciÃ³n: 101 empleados

NÃ“MINA Y COMPENSACIONES
NÃ³mina mensual total: RD$38,400,000
Salario promedio: RD$45,336
Beneficios adicionales: RD$6,200,000
Bonos desempeÃ±o: RD$2,800,000

RANGOS SALARIALES POR PUESTO
Nivel Ejecutivo (C-Level)
- CEO: RD$450,000 - RD$600,000
- VP/Directores: RD$280,000 - RD$380,000

Nivel Gerencial
- Gerentes Senior: RD$120,000 - RD$180,000
- Gerentes: RD$85,000 - RD$120,000
- Supervisores: RD$55,000 - RD$75,000

Nivel Operativo
- Especialistas: RD$40,000 - RD$65,000
- TÃ©cnicos: RD$28,000 - RD$45,000
- Asistentes: RD$22,000 - RD$32,000

EVALUACIONES DE DESEMPEÃ‘O

DESTACADOS (Top 10)
1. MartÃ­nez, Ana - IT Manager
   CalificaciÃ³n: 9.5/10
   Bono trimestral: RD$85,000
   Proyectos completados: 8/8

2. RodrÃ­guez, Carlos - Sales Director
   CalificaciÃ³n: 9.3/10
   Bono trimestral: RD$120,000
   Meta ventas: 142% lograda

3. FernÃ¡ndez, Laura - HR Specialist
   CalificaciÃ³n: 9.1/10
   Proyectos: Sistema evaluaciÃ³n implementado

[...continÃºa lista...]

CASOS DE MEJORA REQUERIDA
Empleado: PÃ©rez, Juan
Puesto: Analista Financiero
CalificaciÃ³n: 5.2/10
Incidencias: 3 retrasos, 2 errores reportados
Plan acciÃ³n: CapacitaciÃ³n + seguimiento 60 dÃ­as

Empleado: Santos, MarÃ­a
Puesto: Customer Service
CalificaciÃ³n: 6.1/10
Incidencias: Quejas clientes, ausentismo
Plan acciÃ³n: Coaching + revisiÃ³n 90 dÃ­as

BENEFICIOS Y PRESTACIONES
Seguro mÃ©dico colectivo: RD$1,800,000/mes
Plan dental: RD$420,000/mes
Seguro de vida: RD$650,000/mes
Bonos alimentaciÃ³n: RD$3,200,000/mes

CAPACITACIONES Q3
InversiÃ³n total: RD$2,400,000
Empleados capacitados: 312
Horas formaciÃ³n: 4,680

Programas:
- Liderazgo gerencial: 45 participantes
- Excel avanzado: 78 participantes
- Servicio al cliente: 92 participantes
- Seguridad informaciÃ³n: 97 participantes

CLIMA LABORAL
Encuesta satisfacciÃ³n: 76% positivo
Ãndice compromiso: 7.8/10
Principal queja: Estacionamiento insuficiente

PROYECTOS EN CURSO
- Sistema biomÃ©trico: ImplementaciÃ³n Nov 2024
- PolÃ­tica trabajo remoto: En revisiÃ³n
- Programa bienestar: Fase piloto

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ClasificaciÃ³n: ESTRICTAMENTE CONFIDENCIAL
DistribuciÃ³n: VP RRHH, Gerencia General
Protegido por Ley de ProtecciÃ³n de Datos Personales
y CÃ³digo de Trabajo Dominicano</div>

            <div class="questions-box">
              <h4>ğŸ’­ Preguntas de AnÃ¡lisis</h4>
              <p><strong>1. Â¿QuÃ© informaciÃ³n en este reporte consideras confidencial y por quÃ©?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>2. Â¿QuiÃ©nes deberÃ­an tener acceso a este reporte dentro de la empresa?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>3. Â¿QuÃ© riesgos existen si esta informaciÃ³n se hace pÃºblica?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>4. Â¿QuÃ© medidas de protecciÃ³n implementarÃ­as para este reporte?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>5. Â¿QuÃ© consecuencias legales o Ã©ticas podrÃ­a tener el mal manejo de esta informaciÃ³n?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>
            </div>

            <div class="button-group">
              <button class="submit-button" onclick="submitAnswers(4)">ğŸ“¤ Enviar Respuestas</button>
              <button class="download-button" onclick="downloadStudentPDF()">ğŸ“„ Descargar mi PDF</button>
            </div>
            <div class="success-message"></div>
          </div>
        </div>
      </div>

      <div id="tab5" class="tab-content">
        <div class="scenario">
          <div class="scenario-header red">
            <h2>Escenario 5: Desarrollo de Software</h2>
            <h3>Sector: TecnologÃ­a - Proyectos e InnovaciÃ³n</h3>
          </div>
          <div class="scenario-content">
            <div class="report-box">INFORME DE PROYECTO - CONFIDENCIAL
TechSolutions RD
Proyecto: Sistema de GestiÃ³n Bancaria v3.0
Fecha: 01/11/2024

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

INFORMACIÃ“N DEL PROYECTO
Cliente: Banco ProFinanzas SA
Contrato: RD$24,500,000
DuraciÃ³n: 14 meses
Inicio: Marzo 2024
Entrega: Abril 2025

EQUIPO DE DESARROLLO
Project Manager: Ing. GarcÃ­a MÃ©ndez
Tech Lead: RamÃ­rez Ortiz
Desarrolladores Senior: 6
Desarrolladores Junior: 4
QA Engineers: 3
UX/UI Designer: 1
DevOps: 2

STACK TECNOLÃ“GICO
Backend:
- Java Spring Boot 3.1
- PostgreSQL 15
- Redis 7.0
- Apache Kafka

Frontend:
- React 18.2
- TypeScript 5.0
- Material-UI

Infraestructura:
- AWS (EC2, RDS, S3)
- Docker + Kubernetes
- Jenkins CI/CD

MÃ“DULOS DESARROLLADOS
âœ“ AutenticaciÃ³n y Seguridad (100%)
âœ“ GestiÃ³n de Cuentas (100%)
âœ“ Transacciones Bancarias (85%)
â³ PrÃ©stamos y CrÃ©ditos (60%)
â³ Reportes AnalÃ­ticos (40%)
âš  IntegraciÃ³n APIs Terceros (25%)

ARQUITECTURA DE SEGURIDAD
- EncriptaciÃ³n AES-256
- AutenticaciÃ³n multifactor (2FA)
- Tokens JWT con expiraciÃ³n
- Logs de auditorÃ­a completos
- Backup diario automatizado
- RecuperaciÃ³n ante desastres (DR)

CREDENCIALES SISTEMA (DESARROLLO)
Servidor Dev: dev-bank.techsol-rd.com
Usuario Admin: admin_dev_2024
Password: TBp@nk#Dev2024$Secure

Base de Datos:
Host: db-dev.internal
Usuario: db_admin
Password: DbP@ssw0rd#2024!
Puerto: 5432

AWS Access:
Account ID: 123456789012
Access Key: AKIAIOSFODNN7EXAMPLE
Secret Key: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY

APIS EXTERNAS INTEGRADAS
- Banco Central: API tasas de cambio
- Datacredito: ValidaciÃ³n crediticia
- Email Service: SendGrid (key: SG.abc123...)
- SMS Gateway: Twilio (sid: AC123...)

INCIDENTES DE SEGURIDAD
Mes Octubre:
- 3 intentos acceso no autorizado (bloqueados)
- 1 vulnerabilidad detectada (parcheada)
- 0 brechas de seguridad

COSTOS ACUMULADOS
Desarrollo: RD$14,200,000
Infraestructura: RD$2,800,000
Licencias: RD$1,600,000
Testing: RD$900,000
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total: RD$19,500,000

MARGEN PROYECTO: 20.4%

PRÃ“XIMOS HITOS
15/11/24: MÃ³dulo PrÃ©stamos completo
30/11/24: Pruebas integraciÃ³n
15/12/24: UAT (User Acceptance Testing)
10/01/25: Pre-producciÃ³n
15/02/25: Go-Live producciÃ³n

RIESGOS IDENTIFICADOS
âš  Alto: Retraso integraciÃ³n API Datacredito
âš  Medio: Escasez desarrolladores especializados
âš  Bajo: Cambios regulatorios Superintendencia

CÃ“DIGO FUENTE
Repositorio: github.com/techsol-private/banco-v3
Branch principal: main
Commits: 2,847
Pull Requests: 384

Ãšltima actualizaciÃ³n:
File: TransactionService.java
Author: ramÃ­<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1f6d7a6531706d6b76655f6b7a7c776c7073326d7b317c7072">[email&#160;protected]</a>
Commit: "Fix: validaciÃ³n monto transferencias"

PROPIEDAD INTELECTUAL
- 8 algoritmos propietarios registrados
- Patente pendiente: Sistema anti-fraude IA
- CÃ³digo fuente: Licencia propietaria

COMPETENCIA
AnÃ¡lisis mercado:
- CompetitorA: Sistema legacy, 15 aÃ±os
- CompetitorB: Sin mÃ³dulo analÃ­tico avanzado
- Nuestra ventaja: IA predictiva + UX superior

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ClasificaciÃ³n: ESTRICTAMENTE CONFIDENCIAL
DistribuciÃ³n: Equipo Proyecto, CTO, Cliente
Propiedad Intelectual Protegida
NDA vigente hasta 2029</div>

            <div class="questions-box">
              <h4>ğŸ’­ Preguntas de AnÃ¡lisis</h4>
              <p><strong>1. Â¿QuÃ© informaciÃ³n en este reporte consideras confidencial y por quÃ©?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>2. Â¿QuiÃ©nes deberÃ­an tener acceso a este reporte?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>3. Â¿QuÃ© riesgos existen si esta informaciÃ³n se filtra?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>4. Â¿QuÃ© medidas de protecciÃ³n implementarÃ­as para este reporte?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>

              <p><strong>5. Â¿QuÃ© consecuencias legales o Ã©ticas podrÃ­a tener el mal manejo de esta informaciÃ³n?</strong></p>
              <textarea class="answer-input" placeholder="Escribe tu anÃ¡lisis aquÃ­..."></textarea>
            </div>

            <div class="button-group">
              <button class="submit-button" onclick="submitAnswers(5)">ğŸ“¤ Enviar Respuestas</button>
              <button class="download-button" onclick="downloadStudentPDF()">ğŸ“„ Descargar mi PDF</button>
            </div>
            <div class="success-message"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="teacher-section">
      <h3>ğŸ” Panel del Docente</h3>
      <p>Funciones exclusivas del docente</p>
      <div class="teacher-buttons">
        <button class="teacher-button" onclick="downloadTeacherReport()">ğŸ“Š Generar Reporte Consolidado</button>
        <button class="clear-button" onclick="clearAllData()">ğŸ—‘ï¸ Limpiar Todos los Datos</button>
      </div>
    </div>
  </div>

  <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
    // CONFIGURACIÃ“N: Reemplaza con tu URL de Google Apps Script
    const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwWP6wBAseJZcutst3HJy9JWUJNcKAGBoTFiyT36DvputQr8UvpFwzZ80brD-FIMWhJOw/exec';
    
    let submittedAnswers = [];

    const scenarioTitles = [
      'Escenario 1: Empresa Manufacturera',
      'Escenario 2: InstituciÃ³n de Salud',
      'Escenario 3: InstituciÃ³n Bancaria',
      'Escenario 4: Recursos Humanos',
      'Escenario 5: Desarrollo de Software'
    ];

    function showTab(num) {
      document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
      document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
      
      document.getElementById('tab' + num).classList.add('active');
      document.querySelectorAll('.tab-button')[num - 1].classList.add('active');
    }

    function submitAnswers(scenarioNum) {
      const name = document.getElementById('studentName').value.trim();
      const date = document.getElementById('currentDate').value;
      
      if (!name || !date) {
        alert('âš ï¸ Por favor completa tu nombre y fecha antes de enviar');
        return;
      }

      const tab = document.getElementById('tab' + scenarioNum);
      const textareas = tab.querySelectorAll('.answer-input');
      const answers = [];
      let allComplete = true;
      
      textareas.forEach(ta => {
        const value = ta.value.trim();
        if (!value) allComplete = false;
        answers.push(value);
      });

      if (!allComplete) {
        alert('âš ï¸ Por favor responde todas las preguntas antes de enviar');
        return;
      }

      const submission = {
        studentName: name,
        date: date,
        scenario: scenarioNum,
        scenarioTitle: scenarioTitles[scenarioNum - 1],
        answers: answers,
        timestamp: new Date().toISOString()
      };

      submittedAnswers.push(submission);
      
      try {
        const stored = JSON.parse(localStorage.getItem('confidencialidad_answers') || '[]');
        stored.push(submission);
        localStorage.setItem('confidencialidad_answers', JSON.stringify(stored));
      } catch (e) {
        console.warn('No se pudo guardar localmente:', e);
      }
      
      sendToGoogleSheets(submission, tab);
    }

    function sendToGoogleSheets(data, tab) {
      const successMsg = tab.querySelector('.success-message');
      successMsg.textContent = 'ğŸ“¤ Enviando a Google Sheets...';
      successMsg.style.background = 'linear-gradient(135deg, #3b82f6 0%, #1e3a8a 100%)';
      successMsg.style.display = 'block';

      if (!GOOGLE_SCRIPT_URL || GOOGLE_SCRIPT_URL.includes('TU_URL')) {
        console.warn('âš ï¸ URL de Google Sheets no configurada');
        successMsg.textContent = 'âœ… Respuestas guardadas localmente (configura Google Sheets en el cÃ³digo)';
        successMsg.style.background = 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)';
        setTimeout(() => successMsg.style.display = 'none', 5000);
        return;
      }

      fetch(GOOGLE_SCRIPT_URL, {
        method: 'POST',
        mode: 'no-cors',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      })
      .then(() => {
        successMsg.textContent = 'âœ… Â¡Respuestas enviadas exitosamente a Google Sheets!';
        successMsg.style.background = 'linear-gradient(135deg, #10b981 0%, #059669 100%)';
        setTimeout(() => successMsg.style.display = 'none', 4000);
      })
      .catch(error => {
        console.error('Error:', error);
        successMsg.textContent = 'âš ï¸ Guardado localmente. Verifica la conexiÃ³n con Google Sheets.';
        successMsg.style.background = 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)';
        setTimeout(() => successMsg.style.display = 'none', 5000);
      });
    }

    function downloadStudentPDF() {
      const name = document.getElementById('studentName').value.trim();
      const date = document.getElementById('currentDate').value;
      
      if (!name || !date) {
        alert('âš ï¸ Por favor completa tu nombre y fecha');
        return;
      }

      const tab = document.querySelector('.tab-content.active');
      const textareas = tab.querySelectorAll('.answer-input');
      const answers = [];
      let allComplete = true;
      
      textareas.forEach(ta => {
        const value = ta.value.trim();
        if (!value) allComplete = false;
        answers.push(value);
      });

      if (!allComplete) {
        alert('âš ï¸ Por favor responde todas las preguntas antes de descargar el PDF');
        return;
      }

      const scenarioTitle = tab.querySelector('.scenario-header h2').textContent;
      const scenarioSubtitle = tab.querySelector('.scenario-header h3').textContent;

      try {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        
        // Encabezado
        doc.setFontSize(18);
        doc.setFont(undefined, 'bold');
        doc.text('ANALISIS DE CONFIDENCIALIDAD', 105, 20, { align: 'center' });
        
        doc.setFontSize(10);
        doc.setFont(undefined, 'normal');
        doc.text('Modulo: Analisis y Diseno de Reportes', 105, 28, { align: 'center' });
        doc.text('Prof. Ing. Juana Alt. Paulino', 105, 34, { align: 'center' });
        
        // LÃ­nea separadora
        doc.setDrawColor(59, 130, 246);
        doc.setLineWidth(0.5);
        doc.line(20, 38, 190, 38);
        
        // InformaciÃ³n del estudiante
        doc.setFontSize(11);
        doc.setFont(undefined, 'bold');
        doc.text('Estudiante:', 20, 46);
        doc.setFont(undefined, 'normal');
        doc.text(name, 50, 46);
        
        doc.setFont(undefined, 'bold');
        doc.text('Fecha:', 20, 53);
        doc.setFont(undefined, 'normal');
        doc.text(date, 50, 53);
        
        // Escenario
        doc.setFontSize(12);
        doc.setFont(undefined, 'bold');
        doc.text(scenarioTitle, 20, 65);
        doc.setFontSize(10);
        doc.setFont(undefined, 'italic');
        doc.text(scenarioSubtitle, 20, 71);
        
        // LÃ­nea separadora
        doc.setDrawColor(203, 213, 225);
        doc.line(20, 75, 190, 75);
        
        // Preguntas y respuestas
        let y = 83;
        const questions = [
          '1. Que informacion es confidencial y por que?',
          '2. Quienes deberian tener acceso?',
          '3. Que riesgos existen si se filtra?',
          '4. Que medidas de proteccion implementarias?',
          '5. Que consecuencias legales o eticas podria tener?'
        ];

        questions.forEach((q, i) => {
          if (y > 260) {
            doc.addPage();
            y = 20;
          }
          
          // Pregunta
          doc.setFont(undefined, 'bold');
          doc.setFontSize(10);
          const questionLines = doc.splitTextToSize(q, 170);
          doc.text(questionLines, 20, y);
          y += (questionLines.length * 5) + 3;
          
          // Respuesta
          doc.setFont(undefined, 'normal');
          doc.setFontSize(9);
          const answerLines = doc.splitTextToSize(answers[i] || 'Sin respuesta', 165);
          doc.text(answerLines, 25, y);
          y += (answerLines.length * 4.5) + 10;
        });

        // Pie de pÃ¡gina en la Ãºltima pÃ¡gina
        const pageCount = doc.internal.getNumberOfPages();
        doc.setPage(pageCount);
        doc.setFontSize(8);
        doc.setTextColor(100);
        doc.text('Centro Educativo Nuestra Sra. De la Altagracia', 105, 285, { align: 'center' });

        const fileName = 'Analisis_Confidencialidad_' + name.replace(/\s+/g, '_') + '.pdf';
        doc.save(fileName);
        alert('âœ… Â¡PDF descargado exitosamente!\n\nArchivo: ' + fileName);
      } catch (error) {
        alert('âŒ Error al generar el PDF. Verifica que la librerÃ­a jsPDF estÃ© cargada.');
        console.error('Error PDF:', error);
      }
    }

    function downloadTeacherReport() {
      const pin = prompt('ğŸ” Ingresa el PIN de acceso (solo docentes):');
      if (pin !== '1070') {
        alert('âŒ PIN incorrecto. Acceso denegado.');
        return;
      }

      // Mostrar mensaje de que se estÃ¡n obteniendo los datos
      if (!confirm('ğŸ“Š Se generarÃ¡ el reporte consolidado con los datos de Google Sheets.\n\nâš ï¸ IMPORTANTE: Este proceso puede tardar unos segundos.\n\nÂ¿Deseas continuar?')) {
        return;
      }

      // Verificar configuraciÃ³n de Google Sheets
      if (!GOOGLE_SCRIPT_URL || GOOGLE_SCRIPT_URL.includes('TU_URL')) {
        alert('âš ï¸ Google Sheets no estÃ¡ configurado.\n\nPor favor, configura la URL de Apps Script en el cÃ³digo para usar esta funciÃ³n.');
        return;
      }

      // Solicitar datos desde Google Sheets
      const loadingMsg = document.createElement('div');
      loadingMsg.style.cssText = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:white;padding:30px;border-radius:15px;box-shadow:0 10px 40px rgba(0,0,0,0.3);z-index:9999;text-align:center;min-width:300px;';
      loadingMsg.innerHTML = '<h3 style="color:#1e3a8a;margin-bottom:15px;">ğŸ“¥ Obteniendo datos...</h3><p style="color:#64748b;">Por favor espera mientras se descargan las respuestas de Google Sheets</p><div style="margin-top:20px;"><div style="width:100%;height:4px;background:#e2e8f0;border-radius:2px;overflow:hidden;"><div style="width:100%;height:100%;background:linear-gradient(90deg,#3b82f6,#1e3a8a);animation:loading 1.5s ease-in-out infinite;"></div></div></div><style>@keyframes loading{0%,100%{transform:translateX(-100%)}50%{transform:translateX(100%)}}</style>';
      document.body.appendChild(loadingMsg);

      // Solicitar datos al servidor
      fetch(GOOGLE_SCRIPT_URL + '?action=getAllData&pin=' + pin, {
        method: 'GET',
        mode: 'cors'
      })
      .then(response => response.json())
      .then(data => {
        document.body.removeChild(loadingMsg);
        
        if (!data.success) {
          alert('âŒ Error al obtener datos: ' + (data.error || 'Desconocido'));
          return;
        }

        if (!data.responses || data.responses.length === 0) {
          alert('âš ï¸ No hay respuestas guardadas en Google Sheets.\n\nEspera a que los estudiantes envÃ­en sus respuestas.');
          return;
        }

        // Generar el PDF con los datos obtenidos
        generateConsolidatedPDF(data.responses);
      })
      .catch(error => {
        document.body.removeChild(loadingMsg);
        console.error('Error al obtener datos:', error);
        
        // Fallback: intentar con localStorage
        alert('âš ï¸ No se pudo conectar con Google Sheets.\n\nIntentando con datos locales guardados en el navegador...');
        
        try {
          const stored = localStorage.getItem('confidencialidad_answers');
          if (stored) {
            const localData = JSON.parse(stored);
            if (localData.length > 0) {
              generateConsolidatedPDF(localData);
              return;
            }
          }
          alert('âŒ No hay datos disponibles.\n\nAsegÃºrate de:\n1. Haber configurado Google Sheets correctamente\n2. Que los estudiantes hayan enviado respuestas\n3. Estar conectado a internet');
        } catch (e) {
          alert('âŒ No se pueden cargar los datos.\n\nPor favor verifica:\n1. La configuraciÃ³n de Google Sheets\n2. Tu conexiÃ³n a internet\n3. Los permisos del navegador');
        }
      });
    }

    function generateConsolidatedPDF(responses) {
      try {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        
        // PÃ¡gina de portada
        doc.setFontSize(20);
        doc.setFont(undefined, 'bold');
        doc.text('REPORTE CONSOLIDADO', 105, 80, { align: 'center' });
        doc.text('DE ESTUDIANTES', 105, 90, { align: 'center' });
        
        doc.setFontSize(12);
        doc.setFont(undefined, 'normal');
        doc.text('Modulo: Analisis y Diseno de Reportes', 105, 110, { align: 'center' });
        doc.text('Prof. Ing. Juana Alt. Paulino', 105, 118, { align: 'center' });
        doc.text('Centro Educativo Nuestra Sra. De la Altagracia', 105, 126, { align: 'center' });
        
        doc.setFontSize(11);
        doc.setFont(undefined, 'bold');
        doc.text('Total de estudiantes: ' + responses.length, 105, 145, { align: 'center' });
        doc.setFont(undefined, 'normal');
        doc.text('Fecha del reporte: ' + new Date().toLocaleDateString('es-DO'), 105, 153, { align: 'center' });

        const questions = [
          '1. Que informacion es confidencial y por que?',
          '2. Quienes deberian tener acceso?',
          '3. Que riesgos existen si se filtra?',
          '4. Que medidas de proteccion implementarias?',
          '5. Que consecuencias legales o eticas podria tener?'
        ];

        // Generar pÃ¡gina para cada estudiante
        responses.forEach((sub, idx) => {
          doc.addPage();
          
          // Encabezado de pÃ¡gina
          doc.setFontSize(16);
          doc.setFont(undefined, 'bold');
          doc.text('Estudiante ' + (idx + 1) + ' de ' + responses.length, 105, 20, { align: 'center' });
          
          // InformaciÃ³n del estudiante
          doc.setFontSize(11);
          doc.setFont(undefined, 'bold');
          doc.text('Nombre:', 20, 32);
          doc.setFont(undefined, 'normal');
          doc.text(sub.studentName || 'N/A', 45, 32);
          
          doc.setFont(undefined, 'bold');
          doc.text('Fecha:', 20, 39);
          doc.setFont(undefined, 'normal');
          doc.text(sub.date || 'N/A', 45, 39);
          
          doc.setFont(undefined, 'bold');
          doc.text('Escenario:', 20, 46);
          doc.setFont(undefined, 'normal');
          const scenarioText = 'Escenario ' + sub.scenario + ' - ' + (sub.scenarioTitle ? sub.scenarioTitle.split(':')[1].trim() : 'N/A');
          doc.text(scenarioText, 45, 46);
          
          // LÃ­nea separadora
          doc.setDrawColor(59, 130, 246);
          doc.setLineWidth(0.5);
          doc.line(20, 50, 190, 50);
          
          // Respuestas
          let y = 58;
          const answers = sub.answers || [];
          
          questions.forEach((q, i) => {
            if (y > 250) {
              doc.addPage();
              y = 20;
            }
            
            // Pregunta
            doc.setFontSize(10);
            doc.setFont(undefined, 'bold');
            const questionLines = doc.splitTextToSize(q, 170);
            doc.text(questionLines, 20, y);
            y += (questionLines.length * 5) + 3;
            
            // Respuesta
            doc.setFont(undefined, 'normal');
            doc.setFontSize(9);
            const answerLines = doc.splitTextToSize(answers[i] || 'Sin respuesta', 165);
            doc.text(answerLines, 25, y);
            y += (answerLines.length * 4.5) + 8;
          });
        });

        doc.save('Reporte_Consolidado_Confidencialidad.pdf');
        alert('âœ… Reporte consolidado descargado exitosamente!\n\nTotal de estudiantes: ' + responses.length);
      } catch (error) {
        alert('âŒ Error al generar el reporte consolidado.');
        console.error('Error:', error);
      }
    }

    function clearAllData() {
      const pin = prompt('ğŸ” Ingresa el PIN de acceso (solo docentes):');
      if (pin !== '1070') {
        alert('âŒ PIN incorrecto. Acceso denegado.');
        return;
      }

      // Verificar configuraciÃ³n de Google Sheets
      if (!GOOGLE_SCRIPT_URL || GOOGLE_SCRIPT_URL.includes('TU_URL')) {
        alert('âš ï¸ Google Sheets no estÃ¡ configurado.\n\nPor favor, configura la URL de Apps Script en el cÃ³digo para usar esta funciÃ³n.');
        return;
      }

      const confirmation = confirm(
        'âš ï¸ ADVERTENCIA: Esta acciÃ³n eliminarÃ¡ TODAS las respuestas de Google Sheets\n\n' +
        'ğŸš¨ Esta acciÃ³n NO SE PUEDE DESHACER\n\n' +
        'Â¿Deseas continuar?'
      );
      
      if (!confirmation) return;

      const doubleCheck = confirm(
        'ğŸ”´ CONFIRMACIÃ“N FINAL\n\n' +
        'Â¿EstÃ¡s COMPLETAMENTE SEGURO de borrar todas las respuestas?\n\n' +
        'Esta es tu Ãºltima oportunidad para cancelar.'
      );
      
      if (!doubleCheck) return;

      // Mostrar mensaje de procesamiento
      const loadingMsg = document.createElement('div');
      loadingMsg.style.cssText = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:white;padding:30px;border-radius:15px;box-shadow:0 10px 40px rgba(0,0,0,0.3);z-index:9999;text-align:center;min-width:300px;';
      loadingMsg.innerHTML = '<h3 style="color:#dc2626;margin-bottom:15px;">ğŸ—‘ï¸ Eliminando datos...</h3><p style="color:#64748b;">Por favor espera mientras se limpian los registros</p>';
      document.body.appendChild(loadingMsg);

      // Enviar solicitud de limpieza a Google Sheets
      fetch(GOOGLE_SCRIPT_URL, {
        method: 'POST',
        mode: 'no-cors',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ action: 'clear', pin: pin })
      })
      .then(() => {
        document.body.removeChild(loadingMsg);
        
        // TambiÃ©n limpiar localStorage local
        try {
          submittedAnswers = [];
          localStorage.removeItem('confidencialidad_answers');
        } catch (e) {
          console.warn('No se pudo limpiar localStorage:', e);
        }
        
        alert('âœ… Datos eliminados exitosamente.\n\n' +
              'Se han limpiado:\n' +
              'â€¢ Google Sheets\n' +
              'â€¢ Datos locales del navegador\n\n' +
              'El sistema estÃ¡ listo para nuevas respuestas.');
      })
      .catch(error => {
        document.body.removeChild(loadingMsg);
        console.error('Error al limpiar datos:', error);
        alert('âš ï¸ Solicitud enviada a Google Sheets.\n\n' +
              'Debido a restricciones del navegador, no podemos confirmar el resultado.\n\n' +
              'Por favor verifica directamente en tu Google Sheet si los datos se eliminaron correctamente.');
      });
    }

    // InicializaciÃ³n al cargar la pÃ¡gina
    window.addEventListener('DOMContentLoaded', function() {
      try {
        const stored = localStorage.getItem('confidencialidad_answers');
        if (stored) {
          submittedAnswers = JSON.parse(stored);
          console.log('âœ… Respuestas cargadas desde localStorage:', submittedAnswers.length);
        }
      } catch (e) {
        console.warn('âš ï¸ No se pudieron cargar respuestas previas:', e);
      }
      
      // Establecer fecha actual
      const today = new Date().toISOString().split('T')[0];
      document.getElemen
